<app-toolbar></app-toolbar>
<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Login</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="login()">
        <mat-form-field class="input-field" appearance="fill">
          <mat-label>Username</mat-label>
          <input matInput formControlName="usernameFormControl" />
          <mat-error
            *ngIf="loginForm.get('usernameFormControl')?.invalid &&
              (loginForm.get('usernameFormControl')?.dirty ||
                loginForm.get('usernameFormControl')?.touched) &&
              loginForm.get('usernameFormControl')?.errors?.['required']
            "
          >
            Username is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="input-field" appearance="fill">
          <mat-label>Password</mat-label>
          <input
            matInput
            type="password"
            formControlName="passwordFormControl"
          />
          <mat-error
            *ngIf="loginForm.get('passwordFormControl')?.errors?.['minlength']"
          >
            Password needs to be at least 8 character long.
          </mat-error>
          <mat-error
            *ngIf="loginForm.get('passwordFormControl')?.invalid &&
              (loginForm.get('passwordFormControl')?.dirty ||
                loginForm.get('passwordFormControl')?.touched) &&
              loginForm.get('passwordFormControl')?.errors?.['required']
            "
          >
            Password is <strong>required</strong>
          </mat-error>
          <mat-error
            *ngIf="loginForm.get('passwordFormControl')?.invalid &&
              (loginForm.get('passwordFormControl')?.dirty ||
                loginForm.get('passwordFormControl')?.touched) &&
              loginForm.get('passwordFormControl')?.errors?.['containsCharacters']
            "
          >
            Password must contain at least one of each of the following:
            <strong
              >lowercase and uppercase letter, number, special character</strong
            >!
          </mat-error>
        </mat-form-field>

        <div>
          <mat-checkbox
            class="remember-me"
            [(ngModel)]="rememberMe"
            [ngModelOptions]="{ standalone: true }"
            >Remember me!</mat-checkbox
          >
        </div>

        <mat-card-actions class="buttons" align="end">
          <button
            mat-button
            [disabled]="!loginForm.valid"
            mat-raised-button
            type="submit"
          >
            Go
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
  <app-loading-spinner></app-loading-spinner>
</div>
